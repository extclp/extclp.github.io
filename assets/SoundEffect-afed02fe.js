import{d as M,r as u,w as y,c as a,a as s,f as _,v as B,u as n,i as b,g as j,F as f,h,j as k,n as S,o,t as g,k as $}from"./index-00f37fc4.js";const U=[{name:"Mojang",versionManifestV2Url:"https://piston-meta.mojang.com/mc/game/version_manifest_v2.json",assetBaseUrl:"https://resources.download.minecraft.net"},{name:"BMCLAPI",disabled:!0,versionManifestV2Url:"https://bmclapi2.bangbang93.com/mc/game/version_manifest_v2.json",assetBaseUrl:"https://bmclapi2.bangbang93.com/assets"},{name:"Mcbbs",disabled:!0,versionManifestV2Url:"https://download.mcbbs.net/mc/game/version_manifest_v2.json",assetBaseUrl:"https://download.mcbbs.net/assets"}],L=s("label",{for:"snapshot"},"快照版本",-1),D={class:"form-item"},E=s("label",{for:"version"},"游戏版本:",-1),R=["value","textContent"],A={class:"form-item"},F=s("label",{for:"source"},"下载源:",-1),I=["value","textContent","disabled"],N=s("br",null,null,-1),z=["textContent","onClick"],W=M({__name:"SoundEffect",setup(O){$(r=>({"912862d8":n(m)?"wait":"pointer"}));const c=u([]),l=u(),v=u(!1),w=u([]),i=u(U[0]);y(i,()=>C()),y(l,async()=>{const t=await(await fetch(l.value.url)).json(),x=await(await fetch(t.assetIndex.url)).json();w.value=Object.entries(x.objects).filter(p=>p[0].endsWith(".ogg")).flatMap(p=>({name:p[0],...p[1]}))});const C=async()=>{const t=await(await fetch(i.value.versionManifestV2Url)).json();c.value=t.versions;for(const e of c.value)if(e.type==="release"){l.value=e;break}};C();const m=u(!1),d=new Audio;d.onloadstart=()=>{m.value=!0},d.onloadeddata=()=>{m.value=!1};const V=r=>{d.src=`${i.value.assetBaseUrl}/${r.substring(0,2)}/${r}`,d.play()};return(r,t)=>(o(),a("div",{class:"sound-effect",style:S({cursor:n(m)?"wait":"unset"})},[s("div",null,[s("div",null,[_(s("input",{name:"snapshot",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>b(v)?v.value=e:null)},null,512),[[B,n(v)]]),L]),s("div",D,[E,_(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>b(l)?l.value=e:null),name:"version"},[n(c)?(o(!0),a(f,{key:0},h(n(c),e=>(o(),a(f,null,[e.type==="release"||n(v)?(o(),a("option",{key:0,value:e,textContent:g(e.id)},null,8,R)):k("",!0)],64))),256)):k("",!0)],512),[[j,n(l)]])]),s("div",A,[F,_(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>b(i)?i.value=e:null)},[(o(!0),a(f,null,h(n(U),e=>(o(),a("option",{value:e,textContent:g(e.name),disabled:e.disabled},null,8,I))),256))],512),[[j,n(i)]])]),s("div",{onClick:t[3]||(t[3]=e=>n(d).pause())},"停止播放")]),N,(o(!0),a(f,null,h(n(w),e=>(o(),a("div",null,[s("span",{class:"sound-effect-entry",textContent:g(e.name),onClick:x=>V(e.hash)},null,8,z)]))),256))],4))}});export{W as default};
